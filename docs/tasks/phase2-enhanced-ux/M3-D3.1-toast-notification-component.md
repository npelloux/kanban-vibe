# [M3-D3.1] Create toast notification component

## Deliverable: Slide-in notifications system for displaying feedback messages

### Context
**PRD:** `docs/project/PRD/active/PRD-phase2-enhanced-ux.md` — M3: Notification System, D3.1

Currently, WIP limit violations and other blocked actions fail silently or use browser alerts. This deliverable creates a toast notification system that provides non-intrusive visual feedback for user actions.

### Traceability
- **PRD Section:** M3-D3.1 "Toast notification component"
- **Functional Requirement:** Slide-in notifications with types (info, warning, error, success), auto-dismiss, manual dismiss
- **Success Criteria:** SC-3 "Notifications display and dismiss correctly"

### Acceptance Criteria
- [ ] Toast appears in bottom-right corner of screen
- [ ] Toast slides in with animation (0.3s ease-in-out)
- [ ] Four notification types: info (blue), warning (yellow), error (red), success (green)
- [ ] Auto-dismiss after 4 seconds by default
- [ ] Manual dismiss button (X) on each toast
- [ ] Multiple toasts stack vertically
- [ ] Maximum 3 visible toasts (oldest auto-dismissed when exceeded)
- [ ] Accessible: ARIA live region for screen readers

### Edge Case Scenarios
- Trigger 5 toasts rapidly → Only 3 visible, oldest removed as new ones appear
- Dismiss toast manually before auto-dismiss → Toast removed immediately, no error
- Auto-dismiss during animation → Animation completes gracefully
- Click dismiss while hovering → Dismiss works, no hover state stuck
- Very long message text → Text wraps, toast expands vertically (max-height with scroll)

### Implementation Guidelines
- Create `src/components/Toast.tsx` for individual toast component
- Create `src/components/ToastContainer.tsx` for toast stack management
- Create `src/hooks/useToast.ts` custom hook for toast API:
```typescript
interface Toast {
  id: string;
  type: 'info' | 'warning' | 'error' | 'success';
  message: string;
  duration?: number; // milliseconds, default 4000
}

interface ToastAPI {
  toasts: Toast[];
  addToast: (toast: Omit<Toast, 'id'>) => void;
  removeToast: (id: string) => void;
}
```
- Use CSS transitions for slide-in animation (`transform: translateX`)
- Fixed positioning: `bottom: 20px; right: 20px`
- Z-index high enough to appear above all other content
- ARIA: `role="alert"` and `aria-live="polite"` for accessibility
- Generate unique IDs with `crypto.randomUUID()` or counter

### Embedded Reasoning
**Why:** Silent failures frustrate users; browser alerts are intrusive. Toast notifications balance visibility with non-intrusiveness.
**What:** A reusable toast notification system with multiple types, auto-dismiss, and manual dismiss.
**How:** Context-based hook providing addToast/removeToast API, with container component managing the toast stack.

### Testing Strategy
- **Unit:** Test Toast component renders correct type styling
- **Unit:** Test dismiss button calls removeToast
- **Unit:** Test auto-dismiss timer fires after 4 seconds
- **Unit:** Test addToast creates toast with unique ID
- **Unit:** Test max 3 toasts visible
- **Integration:** Test toast appears and disappears with animation
- **Accessibility:** Test ARIA attributes present
- **Edge Cases:** Test rapid additions, test manual dismiss timing

### Dependencies
None - this is foundational for M3-D3.2 (WIP violation notifications) and M3-D3.3 (Simulation event notifications)

### Verification
1. Call `addToast({ type: 'success', message: 'Test' })` → Toast appears bottom-right
2. Wait 4 seconds → Toast auto-dismisses
3. Click X button → Toast dismisses immediately
4. Trigger 5 toasts rapidly → Only 3 visible
5. Run `npm test` → All toast component tests pass
6. Test with screen reader → Announcements work correctly
